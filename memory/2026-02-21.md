# 2026-02-21 Project Discussion Log

## Discussion Notes

**Background**: User has requirements document `AD, Tech Lead, AKP.md` (Tech Lead interview project, complete IntelliKnow KMS within 7 days), and software development full-process reference `software_rnd_full_process.md`.

**User Core Requests**:
- Have Cursor autonomously complete software development and iteration by understanding requirements and process docs
- Create dedicated subagents for each development phase
- Create separate directories per phase (prd/, frontend/, backend/, etc.) with STATUS.md in each to track progress
- Create memory/ directory, record daily discussion notes and decisions by date
- Agent must ask for user confirmation on unclear points, and write communication records into memory files
- Track all changes via git, use different branch prefixes per phase, include memory file link in each commit

**Q&A**:
- Q: Which phase is the project at? Where to start?
  A: **Start from scratch** (including market analysis, problem definition, and other early phases)
- Q: What form should subagents take?
  A: **Cursor Agent config files** (AGENTS.md format, invoked via @, each agent has its own context and responsibility description)

## Conclusions & Decisions

✅ Project codename: IntelliKnow KMS

✅ Development starting point: From scratch (Phase 0 strategy alignment → Phase 1 market research → ... → Phase 8 operations)

✅ Subagent format: Cursor Agent config files, stored in `.cursor/agents/` directory

✅ Directory structure confirmed:
```
mini-kms/
├── AGENTS.md                  # Project Agent guide
├── memory/                    # Daily discussion logs
├── discovery/                 # Market & user research
├── prd/                       # Product definition
├── architecture/              # Solution & architecture design
├── frontend/                  # Frontend development
├── backend/                   # Backend development
├── qa/                        # Testing & quality
├── release/                   # Release & launch
└── .cursor/agents/            # Phase-specific Agent instruction files
```

✅ Git branch conventions:
- `discovery/*` → market research phase
- `prd/*` → product definition phase
- `arch/*` → architecture design phase
- `frontend/*` → frontend development phase
- `backend/*` → backend development phase
- `qa/*` → testing phase
- `release/*` → release phase

✅ Commit message convention:
```
[phase] Short imperative description

Memory: memory/YYYY-MM-DD.md
```

✅ STATUS.md markers: `[ ]` Not started / `[~]` In progress / `[x]` Completed / `[?]` Needs confirmation / `[!]` Blocked

✅ Tech stack direction (from requirements doc recommendations): Python (FastAPI) + SQLite/FAISS + Frontend TBD (confirmed in architecture agent phase)

---

**[Supplemental Confirmations — Same Day Second Conversation]**

User answers to 3 open questions:
- Q: Second frontend integration — Teams or WhatsApp? → A: **Microsoft Teams**
- Q: Any other frontend framework options (e.g. React)? → A: **Use React (Next.js)**, not Streamlit
- Q: Deployment — local or cloud? → A: **Local Demo + Docker Compose**

✅ Frontend integration combination confirmed: **Telegram + Microsoft Teams**

✅ Frontend framework confirmed: **Next.js (React)**
- Rationale: Admin Dashboard has 5 complex pages (tables, upload, cards, charts); React ecosystem is more flexible
- Architecture: Frontend/backend separation (Next.js Admin UI + FastAPI backend)

✅ Deployment confirmed: **Local Demo + Docker Compose**
- Output: `docker-compose.yml` to one-command start all services (FastAPI + Next.js + data volume mounts)
- Cloud deployment (Render/Vercel) not required

✅ **LLM confirmed: OpenAI API**
- Models: `gpt-3.5-turbo` (intent classification + response generation), `text-embedding-3-small` (vectorization)
- Rationale: Under 7-day constraint, prioritize reducing complexity; API Key managed via `.env`, no local GPU needed
- Docker Compose requires no additional LLM service container

✅ **Final tech stack confirmed**:
| Layer | Technology |
|-------|-----------|
| Frontend | Next.js (React) + Tailwind CSS |
| Backend | Python FastAPI |
| Vector Store | FAISS (local persistence) |
| Relational Store | SQLite |
| Document Parsing | LangChain (PDF + DOCX) |
| LLM | OpenAI API (gpt-3.5-turbo + text-embedding-3-small) |
| Intent Classification | OpenAI API zero-shot (gpt-3.5-turbo) |
| Frontend Integration | Telegram Bot API + Microsoft Teams Bot |
| Deployment | Docker Compose (local) |

## Open Questions

~~❓ Frontend framework: Requirements doc mentions Option A (Streamlit) and Option B (Next.js). Given Admin Dashboard complexity (5 core pages), should Next.js be the priority? Architecture agent phase needs user confirmation.~~ → **Resolved, see decisions above**

~~❓ Deployment platform: Requirements doc mentions Render / Vercel. Is local demo sufficient, or is cloud deployment required? Release agent phase needs user confirmation.~~ → **Resolved, see decisions above**

~~❓ Frontend integration priority: Which of Telegram and Teams/WhatsApp to implement first? If time is tight, which two to prioritize? PRD agent phase needs user confirmation.~~ → **Resolved, see decisions above**

---

**[Tech Stack Revision — Follow-up]**

User confirmed to strictly follow the **recommended tech stack (Option A)** from `AD, Tech Lead, AKP.md`:
> Option A (Recommended): Python (FastAPI/Streamlit) + SQLite/FAISS + AI tools

✅ **Frontend revised: Streamlit (Python)** — replaces Next.js (React)
- Rationale: Strictly follows recommended stack; same language as backend; faster MVP delivery in 7 days; no Node.js toolchain overhead
- Streamlit Admin UI calls FastAPI backend via HTTP (requests library)
- Docker Compose: no Node.js container needed; only Python services

## Related Tasks

- `AGENTS.md` (created)
- `discovery/STATUS.md`
- `prd/STATUS.md`
- `architecture/STATUS.md`
- `frontend/STATUS.md`
- `backend/STATUS.md`
- `qa/STATUS.md`
- `release/STATUS.md`
